<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css\indexCss.css">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>
<body>
    <header>
        <nav>
            <h2>El Universo Musical</h2>
            <a href="index.html">Home</a>
            <a href="sobreNosotros.html">About us</a>
            <a href="soporte.html">Soporte</a>
            <a href="busqueda.html">Busqueda</a>
            <a href="log_in.html">log in</a>
        </nav>
    </header>
    <div id="portada" class="column">
            <p>El</p>
            <p>Universo Musical</p>
            <strong>...</strong>
            <button>Get Started</button>
    </div>
    <section id="artistas">
        <h2>Artitas más escuchados</h2>
        <div id="artistas_container" class="container">

        </div>
    </section>
    <section id="canciones">
        <h2>Canciones populares</h2>
        <div id="canciones_container" class="container">

        </div>
    </section>
    <section id="albumes">
        <h2>Álbumes recomendados</h2>
        <div id="albumes_container" class="container center">
        </div>
    </section>
    <footer>
        <div class="footer-content">
            <p>© 2025 El universo musical</p>
            <div class="social-icons">
                <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
        </div>
    </footer>
</body>
</html>

<script>

// Datos artistas
fetch('/api/artists?limit=6')
  .then(response => response.json())
  .then(data => {
    const lista = document.getElementById('artistas_container');
    data.forEach(artista => {
            // Crear elementos
      const div = document.createElement('div');
      const h3 = document.createElement('h3');
      const a = document.createElement('a');
      const img = document.createElement('img');

      div.classList.add("quadrat");
      // Asignar contenido
      h3.textContent = artista.stage_name;
      a.href = `detalle_artistas.html?id=${artista.id}`; // puedes agregar ?id=artista.id si quieres que sea dinámico
      img.src = artista.photo_url;
      img.alt = artista.stage_name;

      // Construir estructura
      a.appendChild(img);
      div.appendChild(h3);
      div.appendChild(a);
      lista.appendChild(div);
    });
  })
  .catch(error => {
    console.error('Error al obtener los artistas:', error);
  });

  // Datos canciones
  fetch('/api/songs?limit=5')
  .then(response => response.json())
  .then(data => {
    const lista = document.getElementById('canciones_container');

    data.forEach((cancion, index) => {
      // Crear el contenedor principal (clicable)
      const div = document.createElement('div');
      div.classList.add("quadrat");
      div.style.cursor = 'pointer';
      div.onclick = () => {
        window.location.href = `detalle_cancion.html?id=${cancion.id}`;
      };

      // Enumeración y título
      const posicion = document.createElement('p');
      posicion.textContent = `${index + 1}`;

      const h3 = document.createElement('h3');
      h3.textContent = `${cancion.title}`;

      // Parrafo con play_count
      const p = document.createElement('p');
      p.innerHTML = `Reproducciones: <strong>${cancion.play_count.toLocaleString('es-ES')}</strong>`;

      // Construir estructura
      div.appendChild(posicion);
      div.appendChild(h3);
      div.appendChild(p);
      lista.appendChild(div);
    });
  })
  .catch(error => {
    console.error('Error al obtener las canciones:', error);
  });


  //Datos álbumes
  fetch('/api/albums?limit=5')
  .then(response => response.json())
  .then(data => {
    const lista = document.getElementById('albumes_container');

    data.forEach((album, index) => {
      // Crear elementos
      const div = document.createElement('div');
      div.classList.add("rectangle");
      const h3 = document.createElement('h3');
      const img = document.createElement('img');
      const p = document.createElement('p');

      // Asignar contenido
      h3.textContent = `${index + 1}. ${album.name}`;
      img.src = album.photo_url || 'img/default_album.png'; // fallback si no hay imagen
      img.alt = album.name;

      // Formatear fecha de lanzamiento
      const fecha = new Date(album.release_date);
      p.textContent = `Publicado el: ${fecha.toLocaleDateString('es-ES')}`;
      p.classList.add('color'); // por si quieres aplicar estilos con esta clase

      // Estructura
      div.appendChild(h3);
      div.appendChild(img);
      div.appendChild(p);
      lista.appendChild(div);
    });
  })
  .catch(error => {
    console.error('Error al obtener los álbumes:', error);
  });


</script>